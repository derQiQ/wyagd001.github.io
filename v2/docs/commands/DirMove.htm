<!DOCTYPE HTML>
<html lang="zh">
<head>
<title>DirMove - 语法 &amp; 使用 | AutoHotkey v2</title>
<meta name="description" content="The DirMove function moves a folder along with all its sub-folders and files. It can also rename a folder." />
<meta name="ahk:equiv-v1" content="commands/FileMoveDir.htm" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script type="text/javascript">$(function(){0<=window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")&&CaoNiMaDeUc()})</script>
</head>
<body>

<h1>DirMove</h1>

<p>移动文件夹, 及其所有子文件夹和文件. 它也可以重命名一个文件夹.</p>

<pre class="Syntax"><span class="func">DirMove</span> Source, Dest <span class="optional">, Flag</span></pre>
<h2 id="Parameters">参数</h2>
<dl>

  <dt>Source</dt>
  <dd>
      <p>类型: <a href="../Concepts.htm#strings">字符串</a></p>
      <p>源目录的名称(不含末尾的反斜杠), 如果未指定绝对路径, 则假定在 <a href="../Variables.htm#WorkingDir">A_WorkingDir</a> 中. 例如: C:\My Folder</p>
  </dd>

  <dt>Dest</dt>
  <dd>
      <p>类型: <a href="../Concepts.htm#strings">字符串</a></p>
      <p>目标目录的名称(不含末尾的反斜杠), 如果未指定绝对路径, 则假定在 <a href="../Variables.htm#WorkingDir">A_WorkingDir</a> 中. 例如: D:\My Folder.</p>
      <p class="note"><strong>注意</strong>: <em>Dest</em> is the actual path and name that the directory will have after it is moved; it is <em>not</em> the directory into which <em>Source</em> is moved (except for the known limitation mentioned below).</p>
  </dd>

  <dt>Flag</dt>
  <dd>
      <p>类型: <a href="../Concepts.htm#strings">字符串</a></p>
      <p>Specify one of the following single characters:</p>
      <p><strong>0</strong> (default): Do not overwrite existing files. The operation will fail if <em>Dest</em> already exists as a file or directory.</p>
      <p><strong>1</strong>: Overwrite existing files. However, any files or subfolders inside <em>Dest</em> that do not have a counterpart in <em>Source</em> will not be deleted. <strong>Known limitation:</strong> If <em>Dest</em> already exists as a folder and it is on the same volume as <em>Source</em>, <em>Source</em> will be moved into it rather than overwriting it. To avoid this, 请参阅 the next option.</p>
      <p><strong>2</strong>: The same as mode 1 above except that the limitation is absent.</p>      
      <p><strong>R</strong>: Rename the directory rather than moving it. Although renaming normally has the same effect as moving, it is helpful in cases where you want &quot;all or none&quot; behavior; that is, when you don't want the operation to be only partially successful when <em>Source</em> or one of its files is locked (in use). Although this method cannot move <em>Source</em> onto a different volume, it can move it to any other directory on its own volume. The operation will fail if <em>Dest</em> already exists as a file or directory.</p>
  </dd>

</dl>

<h2 id="Error_Handling">错误处理</h2>
<p>如果遇到问题, <a href="../misc/ErrorLevel.htm">ErrorLevel</a> 设置为 1, 否则设置为 0.</p>
<h2 id="Remarks">备注</h2>
<p>DirMove moves a single folder to a new location. To instead move the contents of a folder (all its files and subfolders), 请参阅 the examples section of <a href="FileMove.htm">FileMove</a>.</p>
<p>If the source and destination are on different volumes or UNC paths, a copy/delete operation will be performed rather than a move.</p>
<h2 id="Related">相关</h2>
<p><a href="DirCopy.htm">DirCopy</a>, <a href="FileCopy.htm">FileCopy</a>, <a href="FileMove.htm">FileMove</a>, <a href="FileDelete.htm">FileDelete</a>, <a href="LoopFiles.htm">File-loops</a>, <a href="DirSelect.htm">DirSelect</a>, <a href="SplitPath.htm">SplitPath</a></p>
<h2 id="Examples">示例</h2>
<div class="ex" id="ExBasic">
<p><a href="#ExBasic">#1</a></p>
<pre>DirMove "C:\My Folder", "D:\My Folder"  <em>; 移动到新的驱动器.</em>
DirMove "C:\My Folder", "C:\My Folder (renamed)", "R"  <em>; 简单重命名.</em>
DirMove "C:\My Folder", "C:\New Location\My Folder", "R"  <em>; 文件夹可以 &quot;重命名到&quot; 另一个位置, 只要它在相同的卷标下.</em></pre>
</div>

</body>
</html>